<!DOCTYPE html>
<html>
    <head>
        <title>交通費申請取得API呼出</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script type="text/javascript" src="./scripts/jquery-1.10.2.min.js"></script>
        <script type="text/javascript">
        <!--
            function doAction() {
                // APIのURL
                var url = "http://localhost:8080/KotsuhiSeisanApi/resources/application/get";
                
                // リクエストパラメータ作成
                var request = {
                   emp_no: $("#emp_no").val(),
                   token: $("#token").val(),
                   id: $("#app_id").val()
                };
                $("#request_param").val(JSON.stringify(request, null, "    "));
                
                // API呼出
                $.ajax({
                    type: 'PUT',
                    url: url,
                    data: JSON.stringify(request),
                    contentType: 'application/json',
                    dataType: 'JSON',
                    scriptCharset: 'utf-8',
                    success: function(data) {
                        alert("success");
                        $("#response_param").val(JSON.stringify(data, null, "    "));
                    },
                    error: function(data) {
                        alert("error");
                        $("#response_param").val(JSON.stringify(data, null, "    "));
                    }
                });
            }
        // -->
        </script>
    </head>
    <body>
        <h3>交通費申請取得API呼出</h3>
        <hr>
        <table>
            <tr>
                <td>社員番号</td>
                <td><input type="text" id="emp_no" /></td>
            </tr>
            <tr>
                <td>トークン</td>
                <td><input type="text" id="token" size="50"/></td>
            </tr>    
            <tr>
                <td>申請番号</td>
                <td><input type="text" id="app_id" size="50"/></td>
            </tr>    
        </table>
        <input type="button" value="API呼出" onclick="doAction()" />
        <hr>
        リクエストパラメータ<br>
        <textarea id="request_param" rows="8" cols="50"></textarea><br>
        レスポンスパラメータ<br>
        <textarea id="response_param" rows="8" cols="50"></textarea><br>
        <a href="index.html">戻る</a>
    </body>
</html>
