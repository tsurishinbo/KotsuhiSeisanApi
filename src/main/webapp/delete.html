<!DOCTYPE html>
<html>
    <head>
        <title>交通費申請削除API呼出</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script type="text/javascript" src="./scripts/jquery-1.10.2.min.js"></script>
        <script type="text/javascript">
        <!--
            function doAction() {
                // API呼出
                var host = $('input[name=host]:checked').val();
                var url = 'http://' + host + '/KotsuhiSeisanApi/resources/application/delete/' + $("#app_id").val();
                $.ajax({
                    type: 'DELETE',
                    url: url,
                    data: null,
                    headers: {
                        Authorization: 'Bearer ' + $("#token").val()
                    },
                    success: function(data) {
                        alert("success");
                        $("#response_param").val(JSON.stringify(data, null, "    "));
                    },
                    error: function(data) {
                        alert("error");
                        $("#response_param").val(JSON.stringify(data, null, "    "));
                    }
                });
            }
        // -->
        </script>
    </head>
    <body>
        <h3>交通費申請削除API呼出</h3>
        <hr>
        <table>
            <tr>
                <td>接続先</td>
                <td>
                    <input type="radio" name="host" value="localhost:8080" checked="checked">ローカル
                    <input type="radio" name="host" value="18.205.184.174:8080">AWS EC2
                </td>
            </tr>
            <tr>
                <td>トークン</td>
                <td><input type="text" id="token" size="50"/></td>
            </tr>
            <tr>
                <td>申請番号</td>
                <td><input type="text" id="app_id" size="10"/></td>
            </tr>    
        </table>
        <input type="button" value="API呼出" onclick="doAction()" />
        <hr>
        リクエストパラメータ(JSON)<br>
        <textarea id="request_param" rows="8" cols="50"></textarea><br>
        レスポンスパラメータ(JSON)<br>
        <textarea id="response_param" rows="8" cols="50"></textarea><br>
        <a href="index.html">戻る</a>
    </body>
</html>
